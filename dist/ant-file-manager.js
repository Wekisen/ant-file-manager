!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ant-file-manager",[],t):"object"==typeof exports?exports["ant-file-manager"]=t():e["ant-file-manager"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=7)}([function(e,t){function i(e,t){var i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var o=n(r);return[i].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([o]).join("\n")}return[i].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=i(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},function(e,t,i){function n(e){for(var t=0;t<e.length;t++){var i=e[t],n=p[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(o(i.parts[r]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{for(var a=[],r=0;r<i.parts.length;r++)a.push(o(i.parts[r]));p[i.id]={id:i.id,refs:1,parts:a}}}}function r(){var e=document.createElement("style");return e.type="text/css",u.appendChild(e),e}function o(e){var t,i,n=document.querySelector("style["+m+'~="'+e.id+'"]');if(n){if(d)return v;n.parentNode.removeChild(n)}if(w){var o=f++;n=h||(h=r()),t=a.bind(null,n,o,!1),i=a.bind(null,n,o,!0)}else n=r(),t=s.bind(null,n),i=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else i()}}function a(e,t,i,n){var r=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function s(e,t){var i=t.css,n=t.media,r=t.sourceMap;if(n&&e.setAttribute("media",n),g.ssrId&&e.setAttribute(m,t.id),r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l=i(11),p={},u=c&&(document.head||document.getElementsByTagName("head")[0]),h=null,f=0,d=!1,v=function(){},g=null,m="data-vue-ssr-id",w="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,i,r){d=i,g=r||{};var o=l(e,t);return n(o),function(t){for(var i=[],r=0;r<o.length;r++){var a=o[r],s=p[a.id];s.refs--,i.push(s)}t?(o=l(e,t),n(o)):o=[];for(var r=0;r<i.length;r++){var s=i[r];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete p[s.id]}}}};var b=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t,i,n,r,o){var a,s=e=e||{},c=typeof e.default;"object"!==c&&"function"!==c||(a=e,s=e.default);var l="function"==typeof s?s.options:s;t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0),i&&(l.functional=!0),r&&(l._scopeId=r);var p;if(o?(p=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=p):n&&(p=n),p){var u=l.functional,h=u?l.render:l.beforeCreate;u?(l._injectStyles=p,l.render=function(e,t){return p.call(t),h(e,t)}):l.beforeCreate=h?[].concat(h,p):[p]}return{esModule:a,exports:s,options:l}}},function(e,t,i){"use strict";var n=i(4),r=i(15),o=i(20),a=i.n(o);t.a={name:"FileSelection",components:{FileManager:r.a,PreviewModal:n.a},props:{config:{type:Object,requird:!0},title:{type:String,default:function(){return"图片/视频"}},files:{type:Array,default:function(){return[]}},max:{type:Number,default:function(){return null}},disabled:{type:Boolean,default:function(){return!1}},types:{type:Array,default:function(){return[]}},crop:{type:Boolean,default:function(){return!1}},cropWidth:{type:Number,default:function(){return 200}},cropHeight:{type:Number,default:function(){return 200}}},data:function(){return{previewVisible:!1,previewName:"",previewType:"",previewUrl:"",uploadTime:"",managerVisible:!1}},methods:{previewItem:function(e){this.previewName=e.name,this.previewUrl=e.url,this.previewType=e.type,this.uploadTime=e.time,this.previewVisible=!0},deleteItem:function(e){var t=a()(this.files);t.splice(e,1),this.files=t,this.$emit("updateList",this.files)},closePreview:function(){this.previewVisible=!1},managerShow:function(){this.managerVisible=!0,this.$refs.manager.getFileList()},managerOk:function(e){var t=this;e.forEach(function(e){t.files.push(e)}),this.managerVisible=!1,this.$emit("updateList",this.files)},managerClose:function(){this.managerVisible=!1}}}},function(e,t,i){"use strict";function n(e){i(12)}var r=i(5),o=i(14),a=i(2),s=n,c=a(r.a,o.a,!1,s,"data-v-4dd75631",null);t.a=c.exports},function(e,t,i){"use strict";t.a={name:"PreviewModal",props:{previewVisible:{type:Boolean,required:!0},previewType:{type:String,default:function(){return"image"}},previewUrl:{type:String,required:!0},uploadTime:{type:String}},mounted:function(){},data:function(){return{}},methods:{}}},function(e,t,i){"use strict";var n=i(4),r=i(18);i.n(r);t.a={name:"FileManager",components:{PreviewModal:n.a,VueCropper:r.VueCropper},props:{config:{type:Object,default:function(){return{getApi:String,saveApi:String,deleteApi:String}}},visible:{type:Boolean,required:!0},selecting:{type:Boolean,default:function(){return!1}},max:{type:Number,default:function(){return null}},types:{type:Array,default:function(){return[]}},crop:{type:Boolean,default:function(){return!1}},cropWidth:{type:Number,default:function(){return 200}},cropHeight:{type:Number,default:function(){return 200}}},data:function(){return{previewVisible:!1,previewType:"",previewUrl:"",uploadTime:"",files:[],selected:[],fileAccept:"*",cropperVisible:!1,confirmLoading:!1,uploading:{},options:{img:"",autoCrop:!0,fixedBox:!0,infoTrue:!0},cropLoading:!1,currentPage:1,totalCount:0,pageSize:21,cutting:[],loading:!1}},created:function(){if(this.types.length>0){var e="";this.types.forEach(function(t){"image"===t?e+="image/jpg,image/jpeg,image/png,":"video"===t&&(e+="video/mp4,video/avi,video/mov,")}),this.fileAccept=e}},methods:{getFileList:function(){var e=this;this.loading=!0,this.$axios.get(this.config.getApi,{params:{types:this.types,pageSize:this.pageSize,pageNo:this.currentPage}}).then(function(t){e.files=t.data.result.data,e.totalCount=t.data.result.totalCount,e.loading=!1}).catch(function(t){e.$message.error(t.message)})},closePreview:function(){this.previewVisible=!1},beforeUpload:function(e){var t=this;if(this.crop){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){t.cutting.push(i.result),t.cropperVisible||(t.options.img=i.result,t.cropperVisible=!0)}}return!1},handleUpload:function(e){this.crop||this.uploadFile(e)},uploadFile:function(e){"{}"!==JSON.stringify(this.uploading)&&this.uploading||(this.uploading=this.$message.loading("上传中...请勿关闭窗口",0)),this.cropLoading=!0,this.crop?this.upload(e):this.upload(e.file)},upload:function(e){var t=this,i=new FormData;i.append("files[]",e),this.$axios.post(this.config.saveApi,i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log(e),200===e.status&&(t.getFileList(),t.$message.config({maxCount:1}),t.$message.success(e.data.message),t.crop&&t.cutting.splice(0,1),t.cutting.length>0?t.options.img=t.cutting[0]:(t.options.img="",t.cropperVisible=!1))}).catch(function(e){t.$message.error(e.message)}).finally(function(){t.uploading(),t.cropLoading=!1})},handleDelete:function(){var e=this,t=[];this.selected.forEach(function(i){t.push(e.files[i].id)}),this.$axios.post(this.config.deleteApi,{ids:t}).then(function(t){e.getFileList(),e.selected=[],e.$message.success(t.data.message)})},clickItem:function(e,t){if(this.selecting){var i=this.selected.indexOf(t);-1===i?null!==this.max&&this.max>this.selected.length?this.selected.push(t):this.$message.error("最多可选择"+this.max+"个文件"):this.selected.splice(i,1)}else this.previewUrl=e.url,this.previewType=e.type,this.uploadTime=e.time,this.previewVisible=!0},selectAll:function(){for(var e=[],t=0;t<Math.min(this.files.length,this.max);t++)e.push(t);this.selected=e},selectFiles:function(){var e=this,t=[];this.selected.forEach(function(i){t.push(e.files[i])}),this.selected=[],this.$emit("ok",t)},close:function(){this.id=null,this.cropperVisible=!1,this.cutting=[]},cancelHandel:function(){this.close()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},finish:function(e){var t=this;"blob"===e&&this.$refs.cropper.getCropBlob(function(e){console.log(e);var i=window.URL.createObjectURL(e);t.model=!0,t.modelSrc=i,e.name="xxx.jpg",t.uploadFile(e)})},okHandel:function(){var e=this;e.confirmLoading=!0,setTimeout(function(){e.confirmLoading=!1,e.close(),e.$message.success("上傳成功")},2e3)},pageChange:function(e,t){this.currentPage=e,this.loading=!0,this.getFileList()}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(8);t.default=n.a},function(e,t,i){"use strict";function n(e){i(9)}var r=i(3),o=i(23),a=i(2),s=n,c=a(r.a,o.a,!1,s,"data-v-12eebecb",null);t.a=c.exports},function(e,t,i){var n=i(10);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(1)("04e471b8",n,!0,{})},function(e,t,i){t=e.exports=i(0)(!1),t.push([e.i,'.file-container[data-v-12eebecb]:after{content:"";display:block;clear:both}.file-container>.file-item-wrapper[data-v-12eebecb]{position:relative;float:left;width:104px;height:104px;margin:0 8px 8px 0;padding:8px;border:1px solid #d9d9d9;border-radius:2px;cursor:pointer}.file-container>.file-item-wrapper>.file-item>.item-info[data-v-12eebecb],.file-container>.file-item-wrapper>.file-item[data-v-12eebecb]{position:relative;height:100%;overflow:hidden}.file-container>.file-item-wrapper>.file-item>.item-info[data-v-12eebecb]{line-height:86px}.file-container>.file-item-wrapper>.file-item>.item-info>img[data-v-12eebecb]{position:static;display:block;width:100%;height:100%;object-fit:cover}.file-container>.file-item-wrapper>.file-item>.item-info>.file-icon[data-v-12eebecb]{position:absolute;top:50%;left:50%;font-size:26px;transform:translate(-50%,-50%)}.file-container>.file-item-wrapper>.file-item[data-v-12eebecb]:before{content:"";opacity:0;position:absolute;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);-webkit-transition:all .3s;transition:all .3s;z-index:1}.file-container>.file-item-wrapper>.file-item>.item-actions[data-v-12eebecb]{opacity:0;position:absolute;top:50%;left:50%;white-space:nowrap;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transition:all .3s;transition:all .3s;z-index:10}.file-container>.file-item-wrapper>.file-item>.item-actions>.icon-item[data-v-12eebecb]{width:30px;margin:0 4px;color:#73c040;font-size:30px;-webkit-transition:all .3s;transition:all .3s;z-index:10;width:16px;font-size:16px;color:hsla(0,0%,100%,.85)}.file-container>.file-item-wrapper:hover>.file-item>.item-actions>.icon-item[data-v-12eebecb]{color:#fff}.file-container>.file-item-wrapper:hover>.file-item>.item-actions[data-v-12eebecb],.file-container>.file-item-wrapper:hover>.file-item[data-v-12eebecb]:before{opacity:1}.select-files-button[data-v-12eebecb]{padding-top:20px!important;line-height:30px;text-align:center;color:#999;-webkit-transition:all .3s;transition:all .3s}.select-files-button[data-v-12eebecb]:hover{color:skyblue;border-color:skyblue}.select-files-button>.icon-item[data-v-12eebecb]{font-size:30px}',""])},function(e,t){e.exports=function(e,t){for(var i=[],n={},r=0;r<t.length;r++){var o=t[r],a=o[0],s=o[1],c=o[2],l=o[3],p={id:e+":"+r,css:s,media:c,sourceMap:l};n[a]?n[a].parts.push(p):i.push(n[a]={id:a,parts:[p]})}return i}},function(e,t,i){var n=i(13);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(1)("785c2d95",n,!0,{})},function(e,t,i){t=e.exports=i(0)(!1),t.push([e.i,"",""])},function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{visible:e.previewVisible,footer:null,centered:!0},on:{cancel:function(){e.$emit("cancel")}}},["image"===e.previewType?i("img",{staticStyle:{width:"100%"},attrs:{src:e.previewUrl}}):"video"===e.previewType?i("video",{attrs:{src:e.previewUrl,width:"100%",controls:""}}):i("div",{staticStyle:{"text-align":"center",padding:"40px 0"}},[i("a-icon",{style:{"font-size":"30px","margin-bottom":"10px"},attrs:{type:"frown",theme:"twoTone"}}),e._v(" "),i("div",{staticStyle:{color:"#aaa","margin-bottom":"5px"}},[i("small",[e._v(e._s(e.previewUrl))])]),e._v(" "),i("div",[e._v("不支持预览的文件类型："),i("span",{style:{"font-weight":"bold"}},[e._v(e._s(e.previewUrl.split(".")[e.previewUrl.split(".").length-1]))])]),e._v(" "),e.uploadTime?i("div",{staticStyle:{"font-size":"13px",color:"#aaa","margin-top":"5px"}},[e._v("上传时间："+e._s(e.uploadTime))]):e._e()],1)])},r=[],o={render:n,staticRenderFns:r};t.a=o},function(e,t,i){"use strict";function n(e){i(16)}var r=i(6),o=i(19),a=i(2),s=n,c=a(r.a,o.a,!1,s,"data-v-b5be2ad8",null);t.a=c.exports},function(e,t,i){var n=i(17);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(1)("60c8000c",n,!0,{})},function(e,t,i){t=e.exports=i(0)(!1),t.push([e.i,'.file-container[data-v-b5be2ad8]:after,.select-wrapper[data-v-b5be2ad8]:after{content:"";display:block;clear:both}.file-container>.file-item-wrapper[data-v-b5be2ad8]{position:relative;float:left;width:104px;height:104px;margin:0 8px 8px 0;padding:8px;border:1px solid #d9d9d9;border-radius:2px;cursor:pointer}.file-container>.file-item-wrapper>.file-item>.item-info[data-v-b5be2ad8],.file-container>.file-item-wrapper>.file-item[data-v-b5be2ad8]{position:relative;height:100%;overflow:hidden}.file-container>.file-item-wrapper>.file-item>.item-info[data-v-b5be2ad8]{line-height:86px}.file-container>.file-item-wrapper>.file-item>.item-info>img[data-v-b5be2ad8]{position:static;display:block;width:100%;height:100%;object-fit:cover}.file-container>.file-item-wrapper>.file-item>.item-info>.file-icon[data-v-b5be2ad8]{position:absolute;top:50%;left:50%;font-size:26px;transform:translate(-50%,-50%)}.file-container>.file-item-wrapper>.file-item[data-v-b5be2ad8]:before{content:"";opacity:0;position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,.5);-webkit-transition:all .3s;transition:all .3s;z-index:1}.file-container>.file-item-wrapper>.file-item>.item-actions[data-v-b5be2ad8],.file-container>.file-item-wrapper>.file-item>.item-select[data-v-b5be2ad8]{opacity:0;position:absolute;top:50%;left:50%;white-space:nowrap;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transition:all .3s;transition:all .3s;z-index:10}.file-container>.file-item-wrapper>.file-item>.item-actions>.icon-item[data-v-b5be2ad8],.file-container>.file-item-wrapper>.file-item>.item-select>.icon-item[data-v-b5be2ad8]{width:30px;margin:0 4px;color:#73c040;font-size:30px;-webkit-transition:all .3s;transition:all .3s;z-index:10}.file-container>.file-item-wrapper>.file-item>.item-actions>.icon-item[data-v-b5be2ad8]{width:16px;font-size:16px;color:hsla(0,0%,100%,.85)}.file-container>.file-item-wrapper:hover>.file-item>.item-actions>.icon-item[data-v-b5be2ad8]{color:#fff}.file-container.selecting>.file-item-wrapper:hover>.file-item>.item-select[data-v-b5be2ad8],.file-container.selecting>.file-item-wrapper>.file-item.selected>.item-select[data-v-b5be2ad8],.file-container.selecting>.file-item-wrapper>.file-item.selected[data-v-b5be2ad8]:before,.file-container:not(.selecting)>.file-item-wrapper:hover>.file-item>.item-actions[data-v-b5be2ad8],.file-container>.file-item-wrapper:hover>.file-item[data-v-b5be2ad8]:before{opacity:1}.select-wrapper[data-v-b5be2ad8]{margin-bottom:15px;font-size:13px}.select-wrapper>.left-wrapper[data-v-b5be2ad8]{float:left}.select-wrapper>.left-wrapper>a[data-v-b5be2ad8]{margin-left:8px}.select-wrapper>.right-wrapper[data-v-b5be2ad8]{float:right}',""])},function(e,t,i){!function(t,i){e.exports=i()}(window,function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var r in e)t.d(n,r,function(t){return e[t]}.bind(null,r));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,i){var n=i(2);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,r),n.locals&&(e.exports=n.locals)},function(e,t,i){"use strict";var n=i(0);i.n(n).a},function(e,t,i){(e.exports=i(3)(!1)).push([e.i,'\n.vue-cropper[data-v-6dae58fd] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  direction: ltr;\n  touch-action: none;\n  text-align: left;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC");\n}\n.cropper-box[data-v-6dae58fd],\n.cropper-box-canvas[data-v-6dae58fd],\n.cropper-drag-box[data-v-6dae58fd],\n.cropper-crop-box[data-v-6dae58fd],\n.cropper-face[data-v-6dae58fd] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  user-select: none;\n}\n.cropper-box-canvas img[data-v-6dae58fd] {\n  position: relative;\n  text-align: left;\n  user-select: none;\n  transform: none;\n  max-width: none;\n  max-height: none;\n}\n.cropper-box[data-v-6dae58fd] {\n  overflow: hidden;\n}\n.cropper-move[data-v-6dae58fd] {\n  cursor: move;\n}\n.cropper-crop[data-v-6dae58fd] {\n  cursor: crosshair;\n}\n.cropper-modal[data-v-6dae58fd] {\n  background: rgba(0, 0, 0, 0.5);\n}\n.cropper-crop-box[data-v-6dae58fd] {\n  /*border: 2px solid #39f;*/\n}\n.cropper-view-box[data-v-6dae58fd] {\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  user-select: none;\n}\n.cropper-view-box img[data-v-6dae58fd] {\n  user-select: none;\n  text-align: left;\n  max-width: none;\n  max-height: none;\n}\n.cropper-face[data-v-6dae58fd] {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  opacity: 0.1;\n}\n.crop-info[data-v-6dae58fd] {\n  position: absolute;\n  left: 0px;\n  min-width: 65px;\n  text-align: center;\n  color: white;\n  line-height: 20px;\n  background-color: rgba(0, 0, 0, 0.8);\n  font-size: 12px;\n}\n.crop-line[data-v-6dae58fd] {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n.line-w[data-v-6dae58fd] {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: n-resize;\n}\n.line-a[data-v-6dae58fd] {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: w-resize;\n}\n.line-s[data-v-6dae58fd] {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: s-resize;\n}\n.line-d[data-v-6dae58fd] {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: e-resize;\n}\n.crop-point[data-v-6dae58fd] {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  opacity: 0.75;\n  background-color: #39f;\n  border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n  top: -4px;\n  left: -4px;\n  cursor: nw-resize;\n}\n.point2[data-v-6dae58fd] {\n  top: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: n-resize;\n}\n.point3[data-v-6dae58fd] {\n  top: -4px;\n  right: -4px;\n  cursor: ne-resize;\n}\n.point4[data-v-6dae58fd] {\n  top: 50%;\n  left: -4px;\n  margin-top: -3px;\n  cursor: w-resize;\n}\n.point5[data-v-6dae58fd] {\n  top: 50%;\n  right: -4px;\n  margin-top: -3px;\n  cursor: e-resize;\n}\n.point6[data-v-6dae58fd] {\n  bottom: -5px;\n  left: -4px;\n  cursor: sw-resize;\n}\n.point7[data-v-6dae58fd] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n.point8[data-v-6dae58fd] {\n  bottom: -5px;\n  right: -4px;\n  cursor: se-resize;\n}\n@media screen and (max-width: 500px) {\n.crop-point[data-v-6dae58fd] {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    opacity: 0.45;\n    background-color: #39f;\n    border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n    top: -10px;\n    left: -10px;\n}\n.point2[data-v-6dae58fd],\n  .point4[data-v-6dae58fd],\n  .point5[data-v-6dae58fd],\n  .point7[data-v-6dae58fd] {\n    display: none;\n}\n.point3[data-v-6dae58fd] {\n    top: -10px;\n    right: -10px;\n}\n.point4[data-v-6dae58fd] {\n    top: 0;\n    left: 0;\n}\n.point6[data-v-6dae58fd] {\n    bottom: -10px;\n    left: -10px;\n}\n.point8[data-v-6dae58fd] {\n    bottom: -10px;\n    right: -10px;\n}\n}\n',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n);return[i].concat(n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"})).concat([r]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},function(e,t,i){function n(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=u[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(l(n.parts[o],t))}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(l(n.parts[o],t));u[n.id]={id:n.id,refs:1,parts:a}}}}function r(e,t){for(var i=[],n={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):i.push(n[a]={id:a,parts:[s]})}return i}function o(e,t){var i=f(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=g[g.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),g.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=f(e.insertAt.before,i);i.insertBefore(t,r)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function s(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){return i.nc}();n&&(e.attrs.nonce=n)}return c(t,e.attrs),o(e,t),t}function c(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function l(e,t){var i,n,r,l;if(t.transform&&e.css){if(!(l="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=l}if(t.singleton){var u=v++;i=d||(d=s(t)),n=p.bind(null,i,u,!1),r=p.bind(null,i,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",c(t,e.attrs),o(e,t),t}(t),n=function(e,t,i){var n=i.css,r=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(n=m(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,i,t),r=function(){a(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(t),n=function(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),r=function(){a(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}function p(e,t,i,n){var r=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}var u={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),f=function(e){var t={};return function(e,i){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),d=null,v=0,g=[],m=i(5);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=h()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=r(e,t);return n(i,t),function(e){for(var o=[],a=0;a<i.length;a++){var s=i[a];(c=u[s.id]).refs--,o.push(c)}for(e&&n(r(e,t),t),a=0;a<o.length;a++){var c;if(0===(c=o[a]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete u[c.id]}}}};var w=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"cropper",staticClass:"vue-cropper",on:{mouseover:e.scaleImg,mouseout:e.cancelScale}},[e.imgs?i("div",{staticClass:"cropper-box"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+e.x/e.scale+"px,"+e.y/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"}},[i("img",{ref:"cropperImg",attrs:{src:e.imgs,alt:"cropper-img"}})])]):e._e(),e._v(" "),i("div",{staticClass:"cropper-drag-box",class:{"cropper-move":e.move&&!e.crop,"cropper-crop":e.crop,"cropper-modal":e.cropping},on:{mousedown:e.startMove,touchstart:e.startMove}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:e.cropW+"px",height:e.cropH+"px",transform:"translate3d("+e.cropOffsertX+"px,"+e.cropOffsertY+"px,0)"}},[i("span",{staticClass:"cropper-view-box"},[i("img",{style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+(e.x-e.cropOffsertX)/e.scale+"px,"+(e.y-e.cropOffsertY)/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"},attrs:{src:e.imgs,alt:"cropper-img"}})]),e._v(" "),i("span",{staticClass:"cropper-face cropper-move",on:{mousedown:e.cropMove,touchstart:e.cropMove}}),e._v(" "),e.info?i("span",{staticClass:"crop-info",style:{top:e.cropInfo.top}},[e._v(e._s(this.cropInfo.width)+" × "+e._s(this.cropInfo.height))]):e._e(),e._v(" "),e.fixedBox?e._e():i("span",[i("span",{staticClass:"crop-line line-w",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),i("span",{staticClass:"crop-line line-a",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),i("span",{staticClass:"crop-line line-s",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),i("span",{staticClass:"crop-line line-d",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),i("span",{staticClass:"crop-point point1",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,1)}}}),e._v(" "),i("span",{staticClass:"crop-point point2",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),i("span",{staticClass:"crop-point point3",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,1)}}}),e._v(" "),i("span",{staticClass:"crop-point point4",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),i("span",{staticClass:"crop-point point5",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),i("span",{staticClass:"crop-point point6",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,2)}}}),e._v(" "),i("span",{staticClass:"crop-point point7",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),i("span",{staticClass:"crop-point point8",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,2)}}})])])])};n._withStripped=!0;var r={};r.getData=function(e){return new Promise(function(t,i){var n={};(function(e){var t=null;return new Promise(function(i,n){if(e.src)if(/^data\:/i.test(e.src))t=function(e){e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var t=atob(e),i=t.length,n=new ArrayBuffer(i),r=new Uint8Array(n),o=0;o<i;o++)r[o]=t.charCodeAt(o);return n}(e.src),i(t);else if(/^blob\:/i.test(e.src)){var r=new FileReader;r.onload=function(e){t=e.target.result,i(t)},function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},i.send()}(e.src,function(e){r.readAsArrayBuffer(e)})}else{var o=new XMLHttpRequest;o.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";t=o.response,i(t),o=null},o.open("GET",e.src,!0),o.responseType="arraybuffer",o.send(null)}else n("img error")})})(e).then(function(e){n.arrayBuffer=e,n.orientation=function(e){var t,i,n,r,o,a,s,c,l,p=new DataView(e),u=p.byteLength;if(255===p.getUint8(0)&&216===p.getUint8(1))for(c=2;c<u;){if(255===p.getUint8(c)&&225===p.getUint8(c+1)){a=c;break}c++}if(a&&(i=a+10,"Exif"===function(e,t,i){var n,r="";for(n=t,i+=t;n<i;n++)r+=String.fromCharCode(e.getUint8(n));return r}(p,a+4,4)&&(o=p.getUint16(i),((r=18761===o)||19789===o)&&42===p.getUint16(i+2,r)&&(n=p.getUint32(i+4,r))>=8&&(s=i+n))),s)for(u=p.getUint16(s,r),l=0;l<u;l++)if(c=s+12*l+2,274===p.getUint16(c,r)){c+=8,t=p.getUint16(c,r);break}return t}(e),t(n)}).catch(function(e){i(e)})})};var o=r,a={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:[Number,String],default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"},limitMinSize:{type:[Number,Array,String],default:function(){return 10}}},computed:{cropInfo:function(){var e={};if(e.top=this.cropOffsertY>21?"-21px":"0px",e.width=this.cropW>0?this.cropW:0,e.height=this.cropH>0?this.cropH:0,this.infoTrue){var t=1;this.high&&!this.full&&(t=window.devicePixelRatio),1!==this.enlarge&!this.full&&(t=Math.abs(Number(this.enlarge))),e.width=e.width*t,e.height=e.height*t,this.full&&(e.width=e.width/this.scale,e.height=e.height/this.scale)}return e.width=e.width.toFixed(0),e.height=e.height.toFixed(0),e},isIE:function(){return navigator.userAgent,!!window.ActiveXObject||"ActiveXObject"in window},passive:function(){return this.isIE?null:{passive:!1}}},watch:{img:function(){this.checkedImg()},imgs:function(e){""!==e&&this.reload()},cropW:function(){this.showPreview()},cropH:function(){this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(e,t){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},autoCrop:function(e){e&&this.goAutoCrop()},autoCropWidth:function(){this.autoCrop&&this.goAutoCrop()},autoCropHeight:function(){this.autoCrop&&this.goAutoCrop()},mode:function(){this.checkedImg()},rotate:function(){this.showPreview(),this.autoCrop?this.goAutoCrop(this.cropW,this.cropH):(this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{getVersion:function(e){for(var t=navigator.userAgent.split(" "),i="",n=new RegExp(e,"i"),r=0;r<t.length;r++)n.test(t[r])&&(i=t[r]);return i?i.split("/")[1].split("."):["0","0","0"]},checkOrientationImage:function(e,t,i,n){var r=this;if(this.getVersion("chrome")[0]>=81)t=-1;else if(this.getVersion("safari")[0]>=605){var o=this.getVersion("version");o[0]>13&&o[1]>1&&(t=-1)}else{var a=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);if(a){var s=a[1];((s=s.split("_"))[0]>13||s[0]>=13&&s[1]>=4)&&(t=-1)}}var c=document.createElement("canvas"),l=c.getContext("2d");switch(l.save(),t){case 2:c.width=i,c.height=n,l.translate(i,0),l.scale(-1,1);break;case 3:c.width=i,c.height=n,l.translate(i/2,n/2),l.rotate(180*Math.PI/180),l.translate(-i/2,-n/2);break;case 4:c.width=i,c.height=n,l.translate(0,n),l.scale(1,-1);break;case 5:c.height=i,c.width=n,l.rotate(.5*Math.PI),l.scale(1,-1);break;case 6:c.width=n,c.height=i,l.translate(n/2,i/2),l.rotate(90*Math.PI/180),l.translate(-i/2,-n/2);break;case 7:c.height=i,c.width=n,l.rotate(.5*Math.PI),l.translate(i,-n),l.scale(-1,1);break;case 8:c.height=i,c.width=n,l.translate(n/2,i/2),l.rotate(-90*Math.PI/180),l.translate(-i/2,-n/2);break;default:c.width=i,c.height=n}l.drawImage(e,0,0,i,n),l.restore(),c.toBlob(function(e){var t=URL.createObjectURL(e);URL.revokeObjectURL(r.imgs),r.imgs=t},"image/"+this.outputType,1)},checkedImg:function(){var e=this;if(null===this.img||""===this.img)return this.imgs="",void this.clearCrop();this.loading=!0,this.scale=1,this.rotate=0,this.clearCrop();var t=new Image;if(t.onload=function(){if(""===e.img)return e.$emit("imgLoad","error"),e.$emit("img-load","error"),!1;var i=t.width,n=t.height;o.getData(t).then(function(r){e.orientation=r.orientation||1;var o=Number(e.maxImgSize);!e.orientation&&i<o&n<o?e.imgs=e.img:(i>o&&(n=n/i*o,i=o),n>o&&(i=i/n*o,n=o),e.checkOrientationImage(t,e.orientation,i,n))})},t.onerror=function(){e.$emit("imgLoad","error"),e.$emit("img-load","error")},"data"!==this.img.substr(0,4)&&(t.crossOrigin=""),this.isIE){var i=new XMLHttpRequest;i.onload=function(){var e=URL.createObjectURL(this.response);t.src=e},i.open("GET",this.img,!0),i.responseType="blob",i.send()}else t.src=this.img},startMove:function(e){if(e.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=("clientX"in e?e.clientX:e.touches[0].clientX)-this.x,this.moveY=("clientY"in e?e.clientY:e.touches[0].clientY)-this.y,e.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==e.touches.length&&(this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=e.offsetX?e.offsetX:e.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=e.offsetY?e.offsetY:e.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX="clientX"in e?e.clientX:e.touches[0].clientX,this.cropY="clientY"in e?e.clientY:e.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale:function(e){var t=this;e.preventDefault();var i=this.scale,n=this.touches[0].clientX,r=this.touches[0].clientY,o=e.touches[0].clientX,a=e.touches[0].clientY,s=this.touches[1].clientX,c=this.touches[1].clientY,l=e.touches[1].clientX,p=e.touches[1].clientY,u=Math.sqrt(Math.pow(n-s,2)+Math.pow(r-c,2)),h=Math.sqrt(Math.pow(o-l,2)+Math.pow(a-p,2))-u,f=1,d=(f=(f=f/this.trueWidth>f/this.trueHeight?f/this.trueHeight:f/this.trueWidth)>.1?.1:f)*h;if(!this.touchNow){if(this.touchNow=!0,h>0?i+=Math.abs(d):h<0&&i>Math.abs(d)&&(i-=Math.abs(d)),this.touches=e.touches,setTimeout(function(){t.touchNow=!1},8),!this.checkoutImgAxis(this.x,this.y,i))return!1;this.scale=i}},cancelTouchScale:function(e){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(e){var t=this;if(e.preventDefault(),e.touches&&2===e.touches.length)return this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var i,n,r="clientX"in e?e.clientX:e.touches[0].clientX,o="clientY"in e?e.clientY:e.touches[0].clientY;i=r-this.moveX,n=o-this.moveY,this.$nextTick(function(){if(t.centerBox){var e,r,o,a,s=t.getImgAxis(i,n,t.scale),c=t.getCropAxis(),l=t.trueHeight*t.scale,p=t.trueWidth*t.scale;switch(t.rotate){case 1:case-1:case 3:case-3:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2+(l-p)/2,r=t.cropOffsertY-t.trueHeight*(1-t.scale)/2+(p-l)/2,o=e-l+t.cropW,a=r-p+t.cropH;break;default:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2,r=t.cropOffsertY-t.trueHeight*(1-t.scale)/2,o=e-p+t.cropW,a=r-l+t.cropH}s.x1>=c.x1&&(i=e),s.y1>=c.y1&&(n=r),s.x2<=c.x2&&(i=o),s.y2<=c.y2&&(n=a)}t.x=i,t.y=n,t.$emit("imgMoving",{moving:!0,axis:t.getImgAxis()}),t.$emit("img-moving",{moving:!0,axis:t.getImgAxis()})})},leaveImg:function(e){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg:function(){this.canScale&&window.addEventListener(this.support,this.changeSize,this.passive)},cancelScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(e){var t=this;e.preventDefault();var i=this.scale,n=e.deltaY||e.wheelDelta;n=navigator.userAgent.indexOf("Firefox")>0?30*n:n,this.isIE&&(n=-n);var r=this.coe,o=(r=r/this.trueWidth>r/this.trueHeight?r/this.trueHeight:r/this.trueWidth)*n;o<0?i+=Math.abs(o):i>Math.abs(o)&&(i-=Math.abs(o));var a=o<0?"add":"reduce";if(a!==this.coeStatus&&(this.coeStatus=a,this.coe=.2),this.scaling||(this.scalingSet=setTimeout(function(){t.scaling=!1,t.coe=t.coe+=.01},50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,i))return!1;this.scale=i},changeScale:function(e){var t=this.scale;e=e||1;var i=20;if((e*=i=i/this.trueWidth>i/this.trueHeight?i/this.trueHeight:i/this.trueWidth)>0?t+=Math.abs(e):t>Math.abs(e)&&(t-=Math.abs(e)),!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t},createCrop:function(e){var t=this;e.preventDefault();var i="clientX"in e?e.clientX:e.touches?e.touches[0].clientX:0,n="clientY"in e?e.clientY:e.touches?e.touches[0].clientY:0;this.$nextTick(function(){var e=i-t.cropX,r=n-t.cropY;if(e>0?(t.cropW=e+t.cropChangeX>t.w?t.w-t.cropChangeX:e,t.cropOffsertX=t.cropChangeX):(t.cropW=t.w-t.cropChangeX+Math.abs(e)>t.w?t.cropChangeX:Math.abs(e),t.cropOffsertX=t.cropChangeX+e>0?t.cropChangeX+e:0),t.fixed){var o=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];o+t.cropOffsertY>t.h?(t.cropH=t.h-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0],t.cropOffsertX=e>0?t.cropChangeX:t.cropChangeX-t.cropW):t.cropH=o,t.cropOffsertY=t.cropOffsertY}else r>0?(t.cropH=r+t.cropChangeY>t.h?t.h-t.cropChangeY:r,t.cropOffsertY=t.cropChangeY):(t.cropH=t.h-t.cropChangeY+Math.abs(r)>t.h?t.cropChangeY:Math.abs(r),t.cropOffsertY=t.cropChangeY+r>0?t.cropChangeY+r:0)})},changeCropSize:function(e,t,i,n,r){e.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=t,this.canChangeY=i,this.changeCropTypeX=n,this.changeCropTypeY=r,this.cropX="clientX"in e?e.clientX:e.touches[0].clientX,this.cropY="clientY"in e?e.clientY:e.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0),this.$emit("change-crop-size",{width:this.cropW,height:this.cropH})},changeCropNow:function(e){var t=this;e.preventDefault();var i="clientX"in e?e.clientX:e.touches?e.touches[0].clientX:0,n="clientY"in e?e.clientY:e.touches?e.touches[0].clientY:0,r=this.w,o=this.h,a=0,s=0;if(this.centerBox){var c=this.getImgAxis(),l=c.x2,p=c.y2;a=c.x1>0?c.x1:0,s=c.y1>0?c.y1:0,r>l&&(r=l),o>p&&(o=p)}this.$nextTick(function(){var e=i-t.cropX,c=n-t.cropY;if(t.canChangeX&&(1===t.changeCropTypeX?t.cropOldW-e>0?(t.cropW=r-t.cropChangeX-e<=r-a?t.cropOldW-e:t.cropOldW+t.cropChangeX-a,t.cropOffsertX=r-t.cropChangeX-e<=r-a?t.cropChangeX+e:a):(t.cropW=Math.abs(e)+t.cropChangeX<=r?Math.abs(e)-t.cropOldW:r-t.cropOldW-t.cropChangeX,t.cropOffsertX=t.cropChangeX+t.cropOldW):2===t.changeCropTypeX&&(t.cropOldW+e>0?(t.cropW=t.cropOldW+e+t.cropOffsertX<=r?t.cropOldW+e:r-t.cropOffsertX,t.cropOffsertX=t.cropChangeX):(t.cropW=r-t.cropChangeX+Math.abs(e+t.cropOldW)<=r-a?Math.abs(e+t.cropOldW):t.cropChangeX-a,t.cropOffsertX=r-t.cropChangeX+Math.abs(e+t.cropOldW)<=r-a?t.cropChangeX-Math.abs(e+t.cropOldW):a))),t.canChangeY&&(1===t.changeCropTypeY?t.cropOldH-c>0?(t.cropH=o-t.cropChangeY-c<=o-s?t.cropOldH-c:t.cropOldH+t.cropChangeY-s,t.cropOffsertY=o-t.cropChangeY-c<=o-s?t.cropChangeY+c:s):(t.cropH=Math.abs(c)+t.cropChangeY<=o?Math.abs(c)-t.cropOldH:o-t.cropOldH-t.cropChangeY,t.cropOffsertY=t.cropChangeY+t.cropOldH):2===t.changeCropTypeY&&(t.cropOldH+c>0?(t.cropH=t.cropOldH+c+t.cropOffsertY<=o?t.cropOldH+c:o-t.cropOffsertY,t.cropOffsertY=t.cropChangeY):(t.cropH=o-t.cropChangeY+Math.abs(c+t.cropOldH)<=o-s?Math.abs(c+t.cropOldH):t.cropChangeY-s,t.cropOffsertY=o-t.cropChangeY+Math.abs(c+t.cropOldH)<=o-s?t.cropChangeY-Math.abs(c+t.cropOldH):s))),t.canChangeX&&t.fixed){var l=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];l+t.cropOffsertY>o?(t.cropH=o-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0]):t.cropH=l}if(t.canChangeY&&t.fixed){var p=t.cropH/t.fixedNumber[1]*t.fixedNumber[0];p+t.cropOffsertX>r?(t.cropW=r-t.cropOffsertX,t.cropH=t.cropW/t.fixedNumber[0]*t.fixedNumber[1]):t.cropW=p}})},checkCropLimitSize:function(){this.cropW,this.cropH;var e=this.limitMinSize,t=new Array;return t=Array.isArray[e]?e:[e,e],[parseFloat(t[0]),parseFloat(t[1])]},changeCropEnd:function(e){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(e){if(e.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(e),!1;if(e.touches&&2===e.touches.length)return this.crop=!1,this.startMove(e),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);var t,i,n="clientX"in e?e.clientX:e.touches[0].clientX,r="clientY"in e?e.clientY:e.touches[0].clientY;t=n-this.cropOffsertX,i=r-this.cropOffsertY,this.cropX=t,this.cropY=i,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop:function(e,t){var i=this,n=0,r=0;e&&(e.preventDefault(),n="clientX"in e?e.clientX:e.touches[0].clientX,r="clientY"in e?e.clientY:e.touches[0].clientY),this.$nextTick(function(){var e,o,a=n-i.cropX,s=r-i.cropY;if(t&&(a=i.cropOffsertX,s=i.cropOffsertY),e=a<=0?0:a+i.cropW>i.w?i.w-i.cropW:a,o=s<=0?0:s+i.cropH>i.h?i.h-i.cropH:s,i.centerBox){var c=i.getImgAxis();e<=c.x1&&(e=c.x1),e+i.cropW>c.x2&&(e=c.x2-i.cropW),o<=c.y1&&(o=c.y1),o+i.cropH>c.y2&&(o=c.y2-i.cropH)}i.cropOffsertX=e,i.cropOffsertY=o,i.$emit("cropMoving",{moving:!0,axis:i.getCropAxis()}),i.$emit("crop-moving",{moving:!0,axis:i.getCropAxis()})})},getImgAxis:function(e,t,i){e=e||this.x,t=t||this.y,i=i||this.scale;var n={x1:0,x2:0,y1:0,y2:0},r=this.trueWidth*i,o=this.trueHeight*i;switch(this.rotate){case 0:n.x1=e+this.trueWidth*(1-i)/2,n.x2=n.x1+this.trueWidth*i,n.y1=t+this.trueHeight*(1-i)/2,n.y2=n.y1+this.trueHeight*i;break;case 1:case-1:case 3:case-3:n.x1=e+this.trueWidth*(1-i)/2+(r-o)/2,n.x2=n.x1+this.trueHeight*i,n.y1=t+this.trueHeight*(1-i)/2+(o-r)/2,n.y2=n.y1+this.trueWidth*i;break;default:n.x1=e+this.trueWidth*(1-i)/2,n.x2=n.x1+this.trueWidth*i,n.y1=t+this.trueHeight*(1-i)/2,n.y2=n.y1+this.trueHeight*i}return n},getCropAxis:function(){var e={x1:0,x2:0,y1:0,y2:0};return e.x1=this.cropOffsertX,e.x2=e.x1+this.cropW,e.y1=this.cropOffsertY,e.y2=e.y1+this.cropH,e},leaveCrop:function(e){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked:function(e){function t(e,t){n.width=Math.round(e),n.height=Math.round(t)}var i=this,n=document.createElement("canvas"),r=new Image,o=this.rotate,a=this.trueWidth,s=this.trueHeight,c=this.cropOffsertX,l=this.cropOffsertY;r.onload=function(){if(0!==i.cropW){var p=n.getContext("2d"),u=1;i.high&!i.full&&(u=window.devicePixelRatio),1!==i.enlarge&!i.full&&(u=Math.abs(Number(i.enlarge)));var h=i.cropW*u,f=i.cropH*u,d=a*i.scale*u,v=s*i.scale*u,g=(i.x-c+i.trueWidth*(1-i.scale)/2)*u,m=(i.y-l+i.trueHeight*(1-i.scale)/2)*u;switch(t(h,f),p.save(),o){case 0:i.full?(t(h/i.scale,f/i.scale),p.drawImage(r,g/i.scale,m/i.scale,d/i.scale,v/i.scale)):p.drawImage(r,g,m,d,v);break;case 1:case-3:i.full?(t(h/i.scale,f/i.scale),g=g/i.scale+(d/i.scale-v/i.scale)/2,m=m/i.scale+(v/i.scale-d/i.scale)/2,p.rotate(90*o*Math.PI/180),p.drawImage(r,m,-g-v/i.scale,d/i.scale,v/i.scale)):(g+=(d-v)/2,m+=(v-d)/2,p.rotate(90*o*Math.PI/180),p.drawImage(r,m,-g-v,d,v));break;case 2:case-2:i.full?(t(h/i.scale,f/i.scale),p.rotate(90*o*Math.PI/180),g/=i.scale,m/=i.scale,p.drawImage(r,-g-d/i.scale,-m-v/i.scale,d/i.scale,v/i.scale)):(p.rotate(90*o*Math.PI/180),p.drawImage(r,-g-d,-m-v,d,v));break;case 3:case-1:i.full?(t(h/i.scale,f/i.scale),g=g/i.scale+(d/i.scale-v/i.scale)/2,m=m/i.scale+(v/i.scale-d/i.scale)/2,p.rotate(90*o*Math.PI/180),p.drawImage(r,-m-d/i.scale,g,d/i.scale,v/i.scale)):(g+=(d-v)/2,m+=(v-d)/2,p.rotate(90*o*Math.PI/180),p.drawImage(r,-m-d,g,d,v));break;default:i.full?(t(h/i.scale,f/i.scale),p.drawImage(r,g/i.scale,m/i.scale,d/i.scale,v/i.scale)):p.drawImage(r,g,m,d,v)}p.restore()}else{var w=a*i.scale,b=s*i.scale,x=n.getContext("2d");switch(x.save(),o){case 0:t(w,b),x.drawImage(r,0,0,w,b);break;case 1:case-3:t(b,w),x.rotate(90*o*Math.PI/180),x.drawImage(r,0,-b,w,b);break;case 2:case-2:t(w,b),x.rotate(90*o*Math.PI/180),x.drawImage(r,-w,-b,w,b);break;case 3:case-1:t(b,w),x.rotate(90*o*Math.PI/180),x.drawImage(r,-w,0,w,b);break;default:t(w,b),x.drawImage(r,0,0,w,b)}x.restore()}e(n)},"data"!==this.img.substr(0,4)&&(r.crossOrigin="Anonymous"),r.src=this.imgs},getCropData:function(e){var t=this;this.getCropChecked(function(i){e(i.toDataURL("image/"+t.outputType,t.outputSize))})},getCropBlob:function(e){var t=this;this.getCropChecked(function(i){i.toBlob(function(t){return e(t)},"image/"+t.outputType,t.outputSize)})},showPreview:function(){var e=this;if(!this.isCanShow)return!1;this.isCanShow=!1,setTimeout(function(){e.isCanShow=!0},16);var t=this.cropW,i=this.cropH,n=this.scale,r={};r.div={width:"".concat(t,"px"),height:"".concat(i,"px")};var o=(this.x-this.cropOffsertX)/n,a=(this.y-this.cropOffsertY)/n;r.w=t,r.h=i,r.url=this.imgs,r.img={width:"".concat(this.trueWidth,"px"),height:"".concat(this.trueHeight,"px"),transform:"scale(".concat(n,")translate3d(").concat(o,"px, ").concat(a,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,"deg)")},r.html='\n      <div class="show-preview" style="width: '.concat(r.w,"px; height: ").concat(r.h,'px,; overflow: hidden">\n        <div style="width: ').concat(t,"px; height: ").concat(i,'px">\n          <img src=').concat(r.url,' style="width: ').concat(this.trueWidth,"px; height: ").concat(this.trueHeight,"px; transform:\n          scale(").concat(n,")translate3d(").concat(o,"px, ").concat(a,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,'deg)">\n        </div>\n      </div>'),this.$emit("realTime",r),this.$emit("real-time",r)},reload:function(){var e=this,t=new Image;t.onload=function(){e.w=parseFloat(window.getComputedStyle(e.$refs.cropper).width),e.h=parseFloat(window.getComputedStyle(e.$refs.cropper).height),e.trueWidth=t.width,e.trueHeight=t.height,e.original?e.scale=1:e.scale=e.checkedMode(),e.$nextTick(function(){e.x=-(e.trueWidth-e.trueWidth*e.scale)/2+(e.w-e.trueWidth*e.scale)/2,e.y=-(e.trueHeight-e.trueHeight*e.scale)/2+(e.h-e.trueHeight*e.scale)/2,e.loading=!1,e.autoCrop&&e.goAutoCrop(),e.$emit("img-load","success"),e.$emit("imgLoad","success"),setTimeout(function(){e.showPreview()},20)})},t.onerror=function(){e.$emit("imgLoad","error"),e.$emit("img-load","error")},t.src=this.imgs},checkedMode:function(){var e=1,t=(this.trueWidth,this.trueHeight),i=this.mode.split(" ");switch(i[0]){case"contain":this.trueWidth>this.w&&(e=this.w/this.trueWidth),this.trueHeight*e>this.h&&(e=this.h/this.trueHeight);break;case"cover":(t*=e=this.w/this.trueWidth)<this.h&&(e=(t=this.h)/this.trueHeight);break;default:try{var n=i[0];if(-1!==n.search("px")){n=n.replace("px","");var r=parseFloat(n)/this.trueWidth,o=1,a=i[1];-1!==a.search("px")&&(a=a.replace("px",""),o=(t=parseFloat(a))/this.trueHeight),e=Math.min(r,o)}if(-1!==n.search("%")&&(n=n.replace("%",""),e=parseFloat(n)/100*this.w/this.trueWidth),2===i.length&&"auto"===n){var s=i[1];-1!==s.search("px")&&(s=s.replace("px",""),e=(t=parseFloat(s))/this.trueHeight),-1!==s.search("%")&&(s=s.replace("%",""),e=(t=parseFloat(s)/100*this.h)/this.trueHeight)}}catch(t){e=1}}return e},goAutoCrop:function(e,t){if(""!==this.imgs&&null!==this.imgs){this.clearCrop(),this.cropping=!0;var i=this.w,n=this.h;if(this.centerBox){var r=Math.abs(this.rotate)%2>0,o=(r?this.trueHeight:this.trueWidth)*this.scale,a=(r?this.trueWidth:this.trueHeight)*this.scale;i=o<i?o:i,n=a<n?a:n}var s=e||parseFloat(this.autoCropWidth),c=t||parseFloat(this.autoCropHeight);0!==s&&0!==c||(s=.8*i,c=.8*n),s=s>i?i:s,c=c>n?n:c,this.fixed&&(c=s/this.fixedNumber[0]*this.fixedNumber[1]),c>this.h&&(s=(c=this.h)/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(s,c)}},changeCrop:function(e,t){var i=this;if(this.centerBox){var n=this.getImgAxis();e>n.x2-n.x1&&(t=(e=n.x2-n.x1)/this.fixedNumber[0]*this.fixedNumber[1]),t>n.y2-n.y1&&(e=(t=n.y2-n.y1)/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=e,this.cropH=t,this.checkCropLimitSize(),this.$nextTick(function(){i.cropOffsertX=(i.w-i.cropW)/2,i.cropOffsertY=(i.h-i.cropH)/2,i.centerBox&&i.moveCrop(null,!0)})},refresh:function(){var e=this;this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick(function(){e.checkedImg()})},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear:function(){this.rotate=0},checkoutImgAxis:function(e,t,i){e=e||this.x,t=t||this.y,i=i||this.scale;var n=!0;if(this.centerBox){var r=this.getImgAxis(e,t,i),o=this.getCropAxis();r.x1>=o.x1&&(n=!1),r.x2<=o.x2&&(n=!1),r.y1>=o.y1&&(n=!1),r.y2<=o.y2&&(n=!1)}return n}},mounted:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var e=this,t=navigator.userAgent;this.isIOS=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,i,n){for(var r=atob(this.toDataURL(i,n).split(",")[1]),o=r.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=r.charCodeAt(s);t(new Blob([a],{type:e.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},destroyed:function(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.cancelScale()}};i(1);var s=function(e,t,i,n,r,o,a,s){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=i,l._compiled=!0),l._scopeId="data-v-"+o,r&&(c=r),c)if(l.functional){l._injectStyles=c;var p=l.render;l.render=function(e,t){return c.call(t),p(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:l}}(a,n,[],0,null,"6dae58fd");s.options.__file="src/vue-cropper.vue";var c=s.exports;i.d(t,"VueCropper",function(){return c});var l=function(e){e.component("VueCropper",c)};"undefined"!=typeof window&&window.Vue&&l(window.Vue),t.default={version:"0.5.6",install:l,VueCropper:c,vueCropper:c}}])})},function(e,t,i){"use strict";var n=function(){var e=this,t=this,i=t.$createElement,n=t._self._c||i;return n("a-modal",{attrs:{title:"上传管理",width:832,visible:t.visible,centered:!0,destroyOnClose:!0},on:{cancel:function(){e.$emit("cancel")}}},[n("a-spin",{attrs:{spinning:t.loading}},[n("div",{staticStyle:{"margin-bottom":"15px"}},[n("a-upload-dragger",{attrs:{name:"files",accept:t.fileAccept,multiple:!0,"file-list":[],beforeUpload:t.beforeUpload},on:{change:t.handleUpload}},[n("p",{staticClass:"ant-upload-drag-icon"},[n("a-icon",{attrs:{type:"inbox"}})],1),t._v(" "),n("p",{staticClass:"ant-upload-text"},[t._v("Click or drag file to this area to upload")])])],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.files.length,expression:"files.length === 0"}],staticStyle:{padding:"20px 0"}},[n("a-empty")],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.files.length>0,expression:"files.length > 0"}],staticClass:"select-wrapper"},[n("div",{staticClass:"left-wrapper"},[n("span",[t._v("选中："+t._s(t.selected.length)+" / "+t._s(t.files.length))]),t._v(" "),n("a",{directives:[{name:"show",rawName:"v-show",value:t.selecting&&t.selected.length!==t.files.length,expression:"selecting && selected.length !== files.length"}],attrs:{href:"javascript:;"},on:{click:t.selectAll}},[t._v("全选")]),t._v(" "),n("a",{directives:[{name:"show",rawName:"v-show",value:!t.selecting,expression:"!selecting"}],attrs:{href:"javascript:;"},on:{click:function(){t.selecting=!0}}},[t._v("选择")]),t._v(" "),n("a",{directives:[{name:"show",rawName:"v-show",value:t.selecting,expression:"selecting"}],attrs:{href:"javascript:;"},on:{click:function(){t.selected=[],t.selecting=!1}}},[t._v("取消")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.selected.length>0,expression:"selected.length > 0"}],staticClass:"right-wrapper"},[n("a-popconfirm",{directives:[{name:"show",rawName:"v-show",value:t.selecting,expression:"selecting"}],attrs:{title:"Are you sure delete these files?","ok-text":"Yes","cancel-text":"No"},on:{confirm:t.handleDelete}},[n("a",{staticClass:"icon-item",staticStyle:{color:"red"},attrs:{href:"javascript:;"}},[n("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"delete"}}),t._v("删除")],1)])],1)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.files.length>0,expression:"files.length > 0"}],class:"file-container"+(t.selecting?" selecting":"")},t._l(t.files,function(e,i){return n("div",{key:i,staticClass:"file-item-wrapper"},[n("div",{class:"file-item"+(-1!==t.selected.indexOf(i)?" selected":""),on:{click:function(n){return t.clickItem(e,i)}}},[n("div",{staticClass:"item-info"},["image"===e.type?n("img",{attrs:{src:e.url+"?x-oss-process=image/resize,w_200,limit_0"}}):"video"===e.type?n("video",{staticStyle:{"vertical-align":"middle"},attrs:{src:e.url,width:"100%"}}):n("a-icon",{staticClass:"file-icon",attrs:{type:"file",theme:"twoTone"}})],1),t._v(" "),n("div",{staticClass:"item-select"},[n("a-icon",{staticClass:"icon-item",attrs:{type:"check-circle",theme:"filled"}})],1),t._v(" "),n("div",{staticClass:"item-actions"},[n("a",{staticClass:"icon-item",attrs:{href:"javascript:;"}},[n("a-icon",{attrs:{type:"eye"}})],1)])])])}),0),t._v(" "),n("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[n("a-pagination",{attrs:{defaultCurrent:t.currentPage,total:t.totalCount,defaultPageSize:t.pageSize},on:{change:t.pageChange}})],1),t._v(" "),n("preview-modal",{attrs:{previewVisible:t.previewVisible,previewType:t.previewType,previewUrl:t.previewUrl,uploadTime:t.uploadTime},on:{cancel:t.closePreview}})],1),t._v(" "),n("template",{slot:"footer"},[[n("a-button",{key:"submit",attrs:{type:"primary",disabled:!t.selecting||0===t.selected.length},on:{click:t.selectFiles}},[t._v("确认选择")])]],2),t._v(" "),n("a-modal",{attrs:{title:"裁剪",visible:t.cropperVisible,maskClosable:!1,confirmLoading:t.confirmLoading,width:t.cropWidth<=375?425:t.cropWidth+50,footer:null},on:{cancel:t.cancelHandel}},[n("a-row",[n("a-col",{style:{height:"350px"},attrs:{xs:24,md:24}},[n("vue-cropper",{ref:"cropper",attrs:{img:t.options.img,info:!0,autoCrop:t.options.autoCrop,autoCropWidth:t.cropWidth,autoCropHeight:t.cropHeight,fixedBox:t.options.fixedBox}})],1)],1),t._v(" "),n("br"),t._v(" "),n("a-row",[n("a-col",{attrs:{lg:{span:1,offset:2},md:2}},[n("a-button",{attrs:{icon:"plus",loading:t.cropLoading},on:{click:function(e){return t.changeScale(1)}}})],1),t._v(" "),n("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[n("a-button",{attrs:{icon:"minus",loading:t.cropLoading},on:{click:function(e){return t.changeScale(-1)}}})],1),t._v(" "),n("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[n("a-button",{attrs:{icon:"undo",loading:t.cropLoading},on:{click:t.rotateLeft}})],1),t._v(" "),n("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[n("a-button",{attrs:{icon:"redo",loading:t.cropLoading},on:{click:t.rotateRight}})],1),t._v(" "),n("a-col",{attrs:{lg:{span:2,offset:6},md:2}},[n("a-button",{attrs:{type:"primary",loading:t.cropLoading},on:{click:function(e){return t.finish("blob")}}},[t._v("OK")])],1)],1)],1)],2)},r=[],o={render:n,staticRenderFns:r};t.a=o},function(e,t,i){(function(e,i){function n(e,t){return e.set(t[0],t[1]),e}function r(e,t){return e.add(t),e}function o(e,t){for(var i=-1,n=e?e.length:0;++i<n&&!1!==t(e[i],i,e););return e}function a(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}function s(e,t,i,n){var r=-1,o=e?e.length:0;for(n&&o&&(i=e[++r]);++r<o;)i=t(i,e[r],r,e);return i}function c(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function l(e,t){return null==e?void 0:e[t]}function p(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function u(e){var t=-1,i=Array(e.size);return e.forEach(function(e,n){i[++t]=[n,e]}),i}function h(e,t){return function(i){return e(t(i))}}function f(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}function d(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function v(){this.__data__=Yt?Yt(null):{}}function g(e){return this.has(e)&&delete this.__data__[e]}function m(e){var t=this.__data__;if(Yt){var i=t[e];return i===ke?void 0:i}return mt.call(t,e)?t[e]:void 0}function w(e){var t=this.__data__;return Yt?void 0!==t[e]:mt.call(t,e)}function b(e,t){return this.__data__[e]=Yt&&void 0===t?ke:t,this}function x(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function y(){this.__data__=[]}function C(e){var t=this.__data__,i=z(t,e);return!(i<0)&&(i==t.length-1?t.pop():St.call(t,i,1),!0)}function _(e){var t=this.__data__,i=z(t,e);return i<0?void 0:t[i][1]}function O(e){return z(this.__data__,e)>-1}function A(e,t){var i=this.__data__,n=z(i,e);return n<0?i.push([e,t]):i[n][1]=t,this}function S(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function M(){this.__data__={hash:new d,map:new(Ht||x),string:new d}}function j(e){return ae(this,e).delete(e)}function k(e){return ae(this,e).get(e)}function L(e){return ae(this,e).has(e)}function H(e,t){return ae(this,e).set(e,t),this}function X(e){this.__data__=new x(e)}function I(){this.__data__=new x}function W(e){return this.__data__.delete(e)}function Y(e){return this.__data__.get(e)}function E(e){return this.__data__.has(e)}function T(e,t){var i=this.__data__;if(i instanceof x){var n=i.__data__;if(!Ht||n.length<je-1)return n.push([e,t]),this;i=this.__data__=new S(n)}return i.set(e,t),this}function N(e,t){var i=Ft(e)||we(e)?c(e.length,String):[],n=i.length,r=!!n;for(var o in e)!t&&!mt.call(e,o)||r&&("length"==o||ue(o,n))||i.push(o);return i}function U(e,t,i){var n=e[t];mt.call(e,t)&&me(n,i)&&(void 0!==i||t in e)||(e[t]=i)}function z(e,t){for(var i=e.length;i--;)if(me(e[i][0],t))return i;return-1}function $(e,t){return e&&ne(t,Ae(t),e)}function B(e,t,i,n,r,a,s){var c;if(n&&(c=a?n(e,r,a,s):n(e)),void 0!==c)return c;if(!_e(e))return e;var l=Ft(e);if(l){if(c=ce(e),!t)return ie(e,c)}else{var u=Rt(e),h=u==We||u==Ye;if(Vt(e))return q(e,t);if(u==Ne||u==He||h&&!a){if(p(e))return a?e:{};if(c=le(h?{}:e),!t)return re(e,$(c,e))}else{if(!rt[u])return a?e:{};c=pe(e,u,B,t)}}s||(s=new X);var f=s.get(e);if(f)return f;if(s.set(e,c),!l)var d=i?oe(e):Ae(e);return o(d||e,function(r,o){d&&(o=r,r=e[o]),U(c,o,B(r,t,i,n,o,e,s))}),c}function P(e){return _e(e)?Ot(e):{}}function R(e,t,i){var n=t(e);return Ft(e)?n:a(n,i(e))}function F(e){return wt.call(e)}function V(e){return!(!_e(e)||fe(e))&&(ye(e)||p(e)?bt:it).test(ve(e))}function D(e){if(!de(e))return kt(e);var t=[];for(var i in Object(e))mt.call(e,i)&&"constructor"!=i&&t.push(i);return t}function q(e,t){if(t)return e.slice();var i=new e.constructor(e.length);return e.copy(i),i}function G(e){var t=new e.constructor(e.byteLength);return new Ct(t).set(new Ct(e)),t}function J(e,t){var i=t?G(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function Z(e,t,i){return s(t?i(u(e),!0):u(e),n,new e.constructor)}function Q(e){var t=new e.constructor(e.source,tt.exec(e));return t.lastIndex=e.lastIndex,t}function K(e,t,i){return s(t?i(f(e),!0):f(e),r,new e.constructor)}function ee(e){return Bt?Object(Bt.call(e)):{}}function te(e,t){var i=t?G(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function ie(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}function ne(e,t,i,n){i||(i={});for(var r=-1,o=t.length;++r<o;){var a=t[r],s=n?n(i[a],e[a],a,i,e):void 0;U(i,a,void 0===s?e[a]:s)}return i}function re(e,t){return ne(e,Pt(e),t)}function oe(e){return R(e,Ae,Pt)}function ae(e,t){var i=e.__data__;return he(t)?i["string"==typeof t?"string":"hash"]:i.map}function se(e,t){var i=l(e,t);return V(i)?i:void 0}function ce(e){var t=e.length,i=e.constructor(t);return t&&"string"==typeof e[0]&&mt.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function le(e){return"function"!=typeof e.constructor||de(e)?{}:P(_t(e))}function pe(e,t,i,n){var r=e.constructor;switch(t){case Pe:return G(e);case Xe:case Ie:return new r(+e);case Re:return J(e,n);case Fe:case Ve:case De:case qe:case Ge:case Je:case Ze:case Qe:case Ke:return te(e,n);case Ee:return Z(e,n,i);case Te:case $e:return new r(e);case Ue:return Q(e);case ze:return K(e,n,i);case Be:return ee(e)}}function ue(e,t){return!!(t=null==t?Le:t)&&("number"==typeof e||nt.test(e))&&e>-1&&e%1==0&&e<t}function he(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function fe(e){return!!vt&&vt in e}function de(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ft)}function ve(e){if(null!=e){try{return gt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ge(e){return B(e,!0,!0)}function me(e,t){return e===t||e!==e&&t!==t}function we(e){return xe(e)&&mt.call(e,"callee")&&(!At.call(e,"callee")||wt.call(e)==He)}function be(e){return null!=e&&Ce(e.length)&&!ye(e)}function xe(e){return Oe(e)&&be(e)}function ye(e){var t=_e(e)?wt.call(e):"";return t==We||t==Ye}function Ce(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Le}function _e(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Oe(e){return!!e&&"object"==typeof e}function Ae(e){return be(e)?N(e):D(e)}function Se(){return[]}function Me(){return!1}var je=200,ke="__lodash_hash_undefined__",Le=9007199254740991,He="[object Arguments]",Xe="[object Boolean]",Ie="[object Date]",We="[object Function]",Ye="[object GeneratorFunction]",Ee="[object Map]",Te="[object Number]",Ne="[object Object]",Ue="[object RegExp]",ze="[object Set]",$e="[object String]",Be="[object Symbol]",Pe="[object ArrayBuffer]",Re="[object DataView]",Fe="[object Float32Array]",Ve="[object Float64Array]",De="[object Int8Array]",qe="[object Int16Array]",Ge="[object Int32Array]",Je="[object Uint8Array]",Ze="[object Uint8ClampedArray]",Qe="[object Uint16Array]",Ke="[object Uint32Array]",et=/[\\^$.*+?()[\]{}|]/g,tt=/\w*$/,it=/^\[object .+?Constructor\]$/,nt=/^(?:0|[1-9]\d*)$/,rt={};rt[He]=rt["[object Array]"]=rt[Pe]=rt[Re]=rt[Xe]=rt[Ie]=rt[Fe]=rt[Ve]=rt[De]=rt[qe]=rt[Ge]=rt[Ee]=rt[Te]=rt[Ne]=rt[Ue]=rt[ze]=rt[$e]=rt[Be]=rt[Je]=rt[Ze]=rt[Qe]=rt[Ke]=!0,rt["[object Error]"]=rt[We]=rt["[object WeakMap]"]=!1;var ot="object"==typeof e&&e&&e.Object===Object&&e,at="object"==typeof self&&self&&self.Object===Object&&self,st=ot||at||Function("return this")(),ct="object"==typeof t&&t&&!t.nodeType&&t,lt=ct&&"object"==typeof i&&i&&!i.nodeType&&i,pt=lt&&lt.exports===ct,ut=Array.prototype,ht=Function.prototype,ft=Object.prototype,dt=st["__core-js_shared__"],vt=function(){var e=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),gt=ht.toString,mt=ft.hasOwnProperty,wt=ft.toString,bt=RegExp("^"+gt.call(mt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xt=pt?st.Buffer:void 0,yt=st.Symbol,Ct=st.Uint8Array,_t=h(Object.getPrototypeOf,Object),Ot=Object.create,At=ft.propertyIsEnumerable,St=ut.splice,Mt=Object.getOwnPropertySymbols,jt=xt?xt.isBuffer:void 0,kt=h(Object.keys,Object),Lt=se(st,"DataView"),Ht=se(st,"Map"),Xt=se(st,"Promise"),It=se(st,"Set"),Wt=se(st,"WeakMap"),Yt=se(Object,"create"),Et=ve(Lt),Tt=ve(Ht),Nt=ve(Xt),Ut=ve(It),zt=ve(Wt),$t=yt?yt.prototype:void 0,Bt=$t?$t.valueOf:void 0;d.prototype.clear=v,d.prototype.delete=g,d.prototype.get=m,d.prototype.has=w,d.prototype.set=b,x.prototype.clear=y,x.prototype.delete=C,x.prototype.get=_,x.prototype.has=O,x.prototype.set=A,S.prototype.clear=M,S.prototype.delete=j,S.prototype.get=k,S.prototype.has=L,S.prototype.set=H,X.prototype.clear=I,X.prototype.delete=W,X.prototype.get=Y,X.prototype.has=E,X.prototype.set=T;var Pt=Mt?h(Mt,Object):Se,Rt=F;(Lt&&Rt(new Lt(new ArrayBuffer(1)))!=Re||Ht&&Rt(new Ht)!=Ee||Xt&&"[object Promise]"!=Rt(Xt.resolve())||It&&Rt(new It)!=ze||Wt&&"[object WeakMap]"!=Rt(new Wt))&&(Rt=function(e){var t=wt.call(e),i=t==Ne?e.constructor:void 0,n=i?ve(i):void 0;if(n)switch(n){case Et:return Re;case Tt:return Ee;case Nt:return"[object Promise]";case Ut:return ze;case zt:return"[object WeakMap]"}return t});var Ft=Array.isArray,Vt=jt||Me;i.exports=ge}).call(t,i(21),i(22)(e))},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"file-container"},[e._l(e.files,function(t,n){return i("div",{key:n,staticClass:"file-item-wrapper"},[i("div",{staticClass:"file-item"},[i("div",{staticClass:"item-info"},["image"===t.type?i("img",{attrs:{src:t.url+"?x-oss-process=image/resize,w_200,limit_0"}}):"video"===t.type?i("video",{staticStyle:{"vertical-align":"middle"},attrs:{src:t.url,width:"100%"}}):i("a-icon",{staticClass:"file-icon",attrs:{type:"file",theme:"twoTone"}})],1),e._v(" "),i("div",{staticClass:"item-actions"},[i("a",{staticClass:"icon-item",attrs:{href:"javascript:;"},on:{click:function(i){return e.previewItem(t)}}},[i("a-icon",{attrs:{type:"eye"}})],1),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"icon-item",attrs:{href:"javascript:;"},on:{click:function(t){return e.deleteItem(n)}}},[i("a-icon",{attrs:{type:"delete"}})],1)])])])}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:null!==e.max&&e.max>e.files.length&&!e.disabled,expression:"(max !== null && max > files.length) && !disabled"}],staticClass:"file-item-wrapper select-files-button",on:{click:e.managerShow}},[i("a-icon",{staticClass:"icon-item",attrs:{type:"plus"}}),e._v(" "),i("div",[e._v(e._s(e.title))])],1)],2),e._v(" "),i("PreviewModal",{attrs:{previewVisible:e.previewVisible,previewName:e.previewName,previewType:e.previewType,previewUrl:e.previewUrl,uploadTime:e.uploadTime},on:{cancel:e.closePreview}}),e._v(" "),i("FileManager",{ref:"manager",attrs:{config:e.config,visible:e.managerVisible,selecting:!0,max:e.max-e.files.length,types:e.types,crop:e.crop,cropWidth:e.cropWidth,cropHeight:e.cropHeight},on:{ok:e.managerOk,cancel:e.managerClose}})],1)},r=[],o={render:n,staticRenderFns:r};t.a=o}])});